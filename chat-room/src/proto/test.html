<html>  
    <head>  
        <script type="text/javascript" src="./message.js"></script>
    </head>
    <body>
        protobuf
    </body>
    <script type="text/javascript">
        var m = new proto.Msg();
        m.setMsgid(15);
        m.setMsgtype(0);
        m.getExtendMap().set("1","2");
        var fuser = new proto.User();
        fuser.setRid("jz123");
        fuser.setUid("123");
        fuser.setName("gjm");
        fuser.setImg("avatar1.svg");
        m.setFuser(fuser);
        m.setTuser(fuser);
        console.log(m.toObject());
        //序列化
        var bytes = m.serializeBinary();
        console.log(bytes);
        //反序列化
        var m2 = proto.Msg.deserializeBinary(bytes);
        console.log(m2.toObject());
        console.log(m2.getFuser().getRid())

    </script>
</html>